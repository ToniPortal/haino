"use strict";const{ipcRenderer:e}=require("electron"),{findClosestMatch:s}=require("../../../shared/closest");exports.run=async(r,n,t)=>{try{const i=await fetch("https://bddship.alwaysdata.net/list");if(!i.ok)throw new Error("Impossible de récupérer la liste des plugins");const o=await i.json(),{plugins:c}=o;n.innerText=`Liste des plugins disponibles :\n${c.join("\n")}`;const l=r.trim().split(" ").slice(1).join(" "),a=s(l,c);if(n.innerText=a,"Enter"===t)try{const s=e.sendSync("hpm",a);n.innerText=s}catch(e){console.error("Erreur lors de l'envoi du message synchronisé :",e)}}catch(e){console.error("Une erreur est survenue :",e.message),n.innerText="Une erreur est survenue lors de la récupération des plugins."}};
